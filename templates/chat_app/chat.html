{% load static %}
{% csrf_token %}
<!DOCTYPE html>
<html>
<head>
	<title>ふらっとさ</title>
	<link rel="stylesheet" href="{% static 'chat_app/css/chat.css' %}">
	<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
	<script>
		const eventStreamUrl = "{{ event_stream_url }}";
		const updateMessageUrl = "{{ update_message_url }}";
		const sendMessageUrl = "{{ send_message_url }}";
		const taskId = "{{ task.id }}";
		const userRole = "{{ user_role }}";
	</script>
	<script src="{% static 'chat_app/js/chat.js' %}"></script>
</head>
<body>
	<div class="chat-header">
		<a href="javascript:history.back()" class="back-button">↤</a>
		<span>件名: {{ task.title }}</span>
	</div>

	<div class="chat-container">
		<!-- メッセージ表示エリア -->
		<div id="messageContainer" class="message-container"></div>

		<!-- メッセージ入力エリア -->
		<div class="message-input-container">
			<textarea id="messageInput" name="message" class="message-input" placeholder="メッセージを入力してください"></textarea>
			<button onclick="sendMessage()" class="message-send-button">➤</button>
		</div>
	</div>
</body>
</html>